<!DOCTYPE html>
<html lang="en">
<%- include('../partials/_head.ejs') %>
<body>
<%- include('../partials/_header.ejs') %>
<main role="main" class="container mt-5">
    <h2>Edit Event</h2>
    <form action="/events/update/<%= event._id %>" method="POST">
        <div class="mb-3">
            <input type="text" name="clientName" value="<%= event.clientName %>" required class="form-control">
        </div>
        <div class="mb-3">
            <input type="text" name="address[city]" value="<%= event.address.city %>" required class="form-control">
            <input type="text" name="address[state]" value="<%= event.address.state %>" required class="form-control mt-2">
            <input type="text" name="address[zipCode]" value="<%= event.address.zipCode %>" required class="form-control mt-2">
        </div>
        <div class="mb-3">
            <input type="tel" name="phoneNumber" value="<%= event.phoneNumber %>" required class="form-control">
        </div>
        <div class="mb-3">
            <input type="date" name="eventDate" value="<%= event.eventDate.toISOString().slice(0, 10) %>" required class="form-control">
        </div>
        <div class="mb-3">
            <input type="text" name="theme" value="<%= event.theme %>" required class="form-control">
        </div>
        <div class="mb-3">
            <textarea name="specialInstructions" class="form-control"><%= event.specialInstructions %></textarea>
        </div>
        <div class="mb-3">
            <input type="text" name="partyBeneficiary" value="<%= event.partyBeneficiary %>" class="form-control">
        </div>
        <div class="mb-3">
            <input type="number" name="quoteGiven" value="<%= event.quoteGiven %>" required class="form-control">
        </div>
        <div class="mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="depositRequired" id="depositRequired" <%= event.depositRequired ? 'checked' : '' %>>
                <label class="form-check-label" for="depositRequired">
                    Deposit Required?
                </label>
            </div>
        </div>
        <div class="mb-3">
            <input type="number" name="depositAmount" value="<%= event.depositAmount %>" class="form-control">
        </div>
        <div class="mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="quotePaid" id="quotePaid" <%= event.quotePaid ? 'checked' : '' %>>
                <label class="form-check-label" for="quotePaid">
                    Quote Paid?
                </label>
            </div>
        </div>
        <div class="mb-3">
            <label for="timezone">Event Timezone</label>
            <select name="timezone" id="timezone" required class="form-control">
                <option value="">Select Timezone</option>
                <option value="UTC">UTC</option>
                <option value="America/New_York" <%= event.timezone === "America/New_York" ? "selected" : "" %>>America/New_York</option>
                <option value="America/Chicago" <%= event.timezone === "America/Chicago" ? "selected" : "" %>>America/Chicago</option>
                <option value="America/Denver" <%= event.timezone === "America/Denver" ? "selected" : "" %>>America/Denver</option>
                <option value="America/Los_Angeles" <%= event.timezone === "America/Los_Angeles" ? "selected" : "" %>>America/Los_Angeles</option>
                <option value="America/Anchorage" <%= event.timezone === "America/Anchorage" ? "selected" : "" %>>America/Anchorage</option>
                <option value="America/Honolulu" <%= event.timezone === "America/Honolulu" ? "selected" : "" %>>America/Honolulu</option>
                <option value="America/Phoenix" <%= event.timezone === "America/Phoenix" ? "selected" : "" %>>America/Phoenix</option>
                <option value="America/Boise" <%= event.timezone === "America/Boise" ? "selected" : "" %>>America/Boise</option>
                <option value="Europe/London" <%= event.timezone === "Europe/London" ? "selected" : "" %>>Europe/London</option>
                <option value="Asia/Tokyo" <%= event.timezone === "Asia/Tokyo" ? "selected" : "" %>>Asia/Tokyo</option>
            </select>
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>
</main>
<%- include('../partials/_footer.ejs') %>
</body>
</html>